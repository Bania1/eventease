@using Microsoft.AspNetCore.Identity
@inject IHttpContextAccessor HttpContextAccessor

@{
    var user = HttpContextAccessor.HttpContext?.User;
}

@if (user?.Identity?.IsAuthenticated ?? false)
{
    <div class="d-flex align-items-center">
        <span class="me-2 text-light">Hello, @user.Identity.Name!</span>

        <a asp-controller="Auth" asp-action="ResetMyPassword" class="btn btn-outline-info btn-sm me-2">
            <i class="fas fa-key"></i> Change Password
        </a>

        @if (user.IsInRole("admin"))
        {
            <a asp-controller="Admin" asp-action="PendingOrganizers" class="btn btn-outline-warning btn-sm me-2">
                <i class="fas fa-users-cog"></i> Manage Organizers
            </a>
        }

        <form asp-action="Logout" asp-controller="Auth" method="post" class="d-inline">
            <button type="submit" class="btn btn-outline-light btn-sm">Logout</button>
        </form>
    </div>
}
else
{
    <a asp-controller="Auth" asp-action="Login" class="btn btn-outline-light btn-sm">
        Login
    </a>
}
